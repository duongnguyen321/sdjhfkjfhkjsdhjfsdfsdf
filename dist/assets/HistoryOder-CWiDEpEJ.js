import{b as N,a as w,l as U,c as F}from"./trade-DsKlzW2O.js";import{_ as A,c as g,e as a,w as o,h as i,o as f,i as s,t as b,d as L,F as h,r as C,f as _}from"./index-QQhhOUTB.js";import"./index-CdjHlNDK.js";const x={data(){return{Query:{page:1,limit:10},Total:0,listTradeStatus:[{label:"Thành công",value:1},{label:"Hủy đơn",value:2},{label:"Đang xử lý",value:3}],listOrderStatus:[{label:"Mua",value:1},{label:"Bán",value:2}],dialogTrade:!1,dataTrade:{idCoin:"",nameCoin:"",unitCoin:"",quantity:null,walletAddress:"",userName:"",accountNumber:"",bankName:"",bankAccount:"",moneyTrade:null,transactionFees:null,oderStatus:null,tradeStatus:null,tradingCode:""},dataListTrade:[],isEditForm:!1}},created(){this.getListTrade()},methods:{changePage(u){this.Query.page=u,this.getListTrade()},openDialogTrade(u,t){this.isEditForm=u,this.dialogTrade=!0,t.length!==0?this.dataTrade={...t}:this.dataTrade={idCoin:"",nameCoin:"",unitCoin:"",quantity:null,walletAddress:"",userName:"",accountNumber:"",bankName:"",bankAccount:"",moneyTrade:null,transactionFees:null,oderStatus:null,tradeStatus:null,tradingCode:""}},updateTrade(){this.dialogTrade=!1,N(this.dataTrade._id,this.dataTrade).then(()=>{this.$message.success("Cập nhật thành công"),this.getListTrade()})},addTrade(){this.dialogTrade=!1,w(this.dataTrade).then(()=>{this.$message.success("Thêm thành công"),this.getListTrade()})},getListTrade(){U(this.Query).then(u=>{this.dataListTrade=u.data,this.Total=u.total})},deleteTrade(u){F(u._id).then(()=>{this.$message.success("Xóa thành công"),this.getListTrade()})},formatCurrency(u){return`${u.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")} VND`}}},q={class:"over pt-8"},B={class:"dialog-footer"};function D(u,t,E,O,l,m){const p=i("el-button"),n=i("el-table-column"),y=i("el-table"),k=i("el-pagination"),r=i("el-input"),d=i("el-form-item"),c=i("el-option"),V=i("el-select"),v=i("el-form"),S=i("el-dialog");return f(),g("div",q,[a(p,{onClick:t[0]||(t[0]=e=>m.openDialogTrade(!1,""))},{default:o(()=>[s("Thêm Trade")]),_:1}),a(y,{data:l.dataListTrade,style:{width:"100%"},class:"mt-4",border:!0},{default:o(()=>[a(n,{prop:"nameCoin",label:"Tên Coin"}),a(n,{prop:"quantity",label:"Số lượng coin"}),a(n,{prop:"walletAddress",label:"Địa chỉ ví"}),a(n,{prop:"accountNumber",label:"Số tài khoản"}),a(n,{prop:"bankName",label:"Tên ngân hàng"}),a(n,{prop:"bankAccount",label:"Tên tài khoản"}),a(n,{prop:"moneyTrade",label:"Tiền giao dịch"},{default:o(e=>[s(b(m.formatCurrency(e.row.moneyTrade)),1)]),_:1}),a(n,{prop:"transactionFees",label:"Phí giao dịch"},{default:o(e=>[s(b(m.formatCurrency(e.row.transactionFees)),1)]),_:1}),a(n,{prop:"oderStatus",label:"Đơn mua/bán"},{default:o(e=>[s(b(l.listOrderStatus.find(T=>T.value===e.row.oderStatus).label),1)]),_:1}),a(n,{prop:"tradeStatus",label:"Trạng thái đơn hàng"},{default:o(e=>[s(b(l.listTradeStatus.find(T=>T.value===e.row.tradeStatus).label),1)]),_:1}),a(n,{prop:"tradingCode",label:"Mã giao dịch"}),a(n,{label:"Thao tác","min-width":"150px"},{default:o(e=>[a(p,{onClick:T=>m.openDialogTrade(!0,e.row)},{default:o(()=>[s(" Sửa ")]),_:2},1032,["onClick"]),a(p,{onClick:T=>m.deleteTrade(e.row)},{default:o(()=>[s(" Xóa ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),a(k,{background:"",layout:"prev, pager, next",total:l.Total,class:"my-4",onCurrentChange:m.changePage},null,8,["total","onCurrentChange"]),a(S,{modelValue:l.dialogTrade,"onUpdate:modelValue":t[17]||(t[17]=e=>l.dialogTrade=e),title:l.isEditForm?"Sửa thông tin":"Thêm mới",width:"500"},{footer:o(()=>[L("div",B,[a(p,{onClick:t[15]||(t[15]=e=>l.dialogTrade=!1)},{default:o(()=>[s("Cancel")]),_:1}),a(p,{type:"primary",onClick:t[16]||(t[16]=e=>l.isEditForm?m.updateTrade():m.addTrade())},{default:o(()=>[s(b(l.isEditForm?"Cập nhật":"Xác nhận"),1)]),_:1})])]),default:o(()=>[a(v,{"label-width":"auto",class:"demo-ruleForm mt-4"},{default:o(()=>[a(d,{label:"idCoin"},{default:o(()=>[a(r,{modelValue:l.dataTrade.idCoin,"onUpdate:modelValue":t[1]||(t[1]=e=>l.dataTrade.idCoin=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"nameCoin"},{default:o(()=>[a(r,{modelValue:l.dataTrade.nameCoin,"onUpdate:modelValue":t[2]||(t[2]=e=>l.dataTrade.nameCoin=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"unitCoin"},{default:o(()=>[a(r,{modelValue:l.dataTrade.unitCoin,"onUpdate:modelValue":t[3]||(t[3]=e=>l.dataTrade.unitCoin=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"quantity"},{default:o(()=>[a(r,{modelValue:l.dataTrade.quantity,"onUpdate:modelValue":t[4]||(t[4]=e=>l.dataTrade.quantity=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"walletAddress"},{default:o(()=>[a(r,{modelValue:l.dataTrade.walletAddress,"onUpdate:modelValue":t[5]||(t[5]=e=>l.dataTrade.walletAddress=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"userName"},{default:o(()=>[a(r,{modelValue:l.dataTrade.userName,"onUpdate:modelValue":t[6]||(t[6]=e=>l.dataTrade.userName=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"accountNumber"},{default:o(()=>[a(r,{modelValue:l.dataTrade.accountNumber,"onUpdate:modelValue":t[7]||(t[7]=e=>l.dataTrade.accountNumber=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"bankName"},{default:o(()=>[a(r,{modelValue:l.dataTrade.bankName,"onUpdate:modelValue":t[8]||(t[8]=e=>l.dataTrade.bankName=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"bankAccount"},{default:o(()=>[a(r,{modelValue:l.dataTrade.bankAccount,"onUpdate:modelValue":t[9]||(t[9]=e=>l.dataTrade.bankAccount=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"moneyTrade"},{default:o(()=>[a(r,{modelValue:l.dataTrade.moneyTrade,"onUpdate:modelValue":t[10]||(t[10]=e=>l.dataTrade.moneyTrade=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"transactionFees"},{default:o(()=>[a(r,{modelValue:l.dataTrade.transactionFees,"onUpdate:modelValue":t[11]||(t[11]=e=>l.dataTrade.transactionFees=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"Trạng thái đơn hàng"},{default:o(()=>[a(V,{modelValue:l.dataTrade.oderStatus,"onUpdate:modelValue":t[12]||(t[12]=e=>l.dataTrade.oderStatus=e),placeholder:"Chọn trạng thái đơn hàng",style:{width:"100%"}},{default:o(()=>[(f(!0),g(h,null,C(l.listOrderStatus,e=>(f(),_(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"Trạng thái giao dịch"},{default:o(()=>[a(V,{modelValue:l.dataTrade.tradeStatus,"onUpdate:modelValue":t[13]||(t[13]=e=>l.dataTrade.tradeStatus=e),placeholder:"Chọn trạng thái giao dịch",style:{width:"100%"}},{default:o(()=>[(f(!0),g(h,null,C(l.listTradeStatus,e=>(f(),_(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"tradingCode"},{default:o(()=>[a(r,{modelValue:l.dataTrade.tradingCode,"onUpdate:modelValue":t[14]||(t[14]=e=>l.dataTrade.tradingCode=e),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","title"])])}const H=A(x,[["render",D]]);export{H as default};
