import{r as _}from"./index-CdjHlNDK.js";import{_ as f,c as b,d as l,t as d,e as t,w as n,i as c,h as p,o as U}from"./index-QQhhOUTB.js";const $={data(){return{dataUser:{username:"",password:"",re_password:""}}},computed:{nameRules(){return[{required:!0,message:this.$t("login.requireName"),trigger:"blur"},{validator:(s,e,i)=>{/\s/.test(e)?i(new Error(this.$t("login.noSpaces"))):i()},trigger:"blur"}]},passwordRules(){return[{required:!0,message:this.$t("login.requirePass1"),trigger:"blur"},{min:8,message:`${this.$t("login.requirePass2")} 8 ${this.$t("login.requirePass3")}`,trigger:"blur"}]}},methods:{async submitForm(s){s&&await s.validate(async(e,i)=>{if(e)try{const r=await this.$recaptcha("register");var g={username:this.dataUser.username,password:this.dataUser.password,recaptchaToken:r};_(g).then(()=>{this.$message.success("Đã đăng ký thành công"),this.$router.push("/login")}).catch(o=>{this.$message.error(o.message||o)})}catch{this.$message.error("Lỗi reCAPTCHA")}else console.log("error submit!",i)})}}},v={class:"over"},V={class:"container"},y={class:"mt-8"},k={class:"text-center text-3xl mb-5"},q={class:"formLogin"},C={class:"text-right w-full"},R={class:"text-sm text-center"};function x(s,e,i,g,r,o){const m=p("el-input"),u=p("el-form-item"),w=p("el-button"),h=p("el-form");return U(),b("div",v,[l("div",V,[l("div",y,[l("p",k,d(s.$t("signup.title")),1),l("div",q,[t(h,{ref:"refDataUser",model:r.dataUser,"label-width":"auto",class:"demo-ruleForm"},{default:n(()=>[t(u,{label:s.$t("signup.user"),prop:"username",rules:o.nameRules},{default:n(()=>[t(m,{modelValue:r.dataUser.username,"onUpdate:modelValue":e[0]||(e[0]=a=>r.dataUser.username=a)},null,8,["modelValue"])]),_:1},8,["label","rules"]),t(u,{label:s.$t("signup.password"),prop:"password",rules:o.passwordRules},{default:n(()=>[t(m,{modelValue:r.dataUser.password,"onUpdate:modelValue":e[1]||(e[1]=a=>r.dataUser.password=a),type:"password","show-password":""},null,8,["modelValue"])]),_:1},8,["label","rules"]),t(u,{label:s.$t("signup.repassword"),prop:"password",rules:o.passwordRules},{default:n(()=>[t(m,{modelValue:r.dataUser.re_password,"onUpdate:modelValue":e[2]||(e[2]=a=>r.dataUser.re_password=a),type:"password","show-password":""},null,8,["modelValue"])]),_:1},8,["label","rules"]),t(u,null,{default:n(()=>[l("div",C,[t(w,{type:"primary",onClick:e[3]||(e[3]=a=>o.submitForm(s.$refs.refDataUser))},{default:n(()=>[c(d(s.$t("signup.title")),1)]),_:1})])]),_:1})]),_:1},8,["model"]),l("p",R,[c(d(s.$t("signup.note1"))+" ",1),l("span",{class:"text-cyan-700 cursor-pointer",onClick:e[4]||(e[4]=a=>this.$router.push("./login"))},d(s.$t("signup.note2")),1)])])])])])}const B=f($,[["render",x]]);export{B as default};
