import{b as S,a as N,l as w,c as U}from"./trade-D7zkZnzj.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as g,d as a,w as o,g as u,o as f,h as s,t as b,b as A,F as C,r as _,e as h}from"./index-D--7TX3v.js";import"./index-QHbb78RQ.js";const L={data(){return{listTradeStatus:[{label:"Thành công",value:1},{label:"Hủy đơn",value:2},{label:"Đang xử lý",value:3}],listOrderStatus:[{label:"Mua",value:1},{label:"Bán",value:2}],dialogTrade:!1,dataTrade:{idCoin:"",nameCoin:"",unitCoin:"",quantity:null,walletAddress:"",userName:"",accountNumber:"",bankName:"",bankAccount:"",moneyTrade:null,transactionFees:null,oderStatus:null,tradeStatus:null,tradingCode:""},dataListTrade:[],isEditForm:!1}},created(){this.getListTrade()},methods:{openDialogTrade(i,l){this.isEditForm=i,this.dialogTrade=!0,l.length!==0?this.dataTrade={...l}:this.dataTrade={idCoin:"",nameCoin:"",unitCoin:"",quantity:null,walletAddress:"",userName:"",accountNumber:"",bankName:"",bankAccount:"",moneyTrade:null,transactionFees:null,oderStatus:null,tradeStatus:null,tradingCode:""}},updateTrade(){this.dialogTrade=!1,S(this.dataTrade._id,this.dataTrade).then(()=>{this.$message.success("Cập nhật thành công"),this.getListTrade()})},addTrade(){this.dialogTrade=!1,N(this.dataTrade).then(()=>{this.$message.success("Thêm thành công"),this.getListTrade()})},getListTrade(){w().then(i=>{this.dataListTrade=i.data})},deleteTrade(i){U(i._id).then(()=>{this.$message.success("Xóa thành công"),this.getListTrade()})},formatCurrency(i){return`${i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")} VND`}}},x={class:"over pt-8"},q={class:"dialog-footer"};function B(i,l,D,E,t,m){const T=u("el-button"),n=u("el-table-column"),k=u("el-table"),r=u("el-input"),d=u("el-form-item"),c=u("el-option"),V=u("el-select"),y=u("el-form"),v=u("el-dialog");return f(),g("div",x,[a(T,{onClick:l[0]||(l[0]=e=>m.openDialogTrade(!1,""))},{default:o(()=>[s("Thêm Trade")]),_:1}),a(k,{data:t.dataListTrade,style:{width:"100%"},class:"mt-4",border:!0},{default:o(()=>[a(n,{prop:"nameCoin",label:"Tên Coin"}),a(n,{prop:"quantity",label:"Số lượng coin"}),a(n,{prop:"walletAddress",label:"Địa chỉ ví"}),a(n,{prop:"accountNumber",label:"Số tài khoản"}),a(n,{prop:"bankName",label:"Tên ngân hàng"}),a(n,{prop:"bankAccount",label:"Tên tài khoản"}),a(n,{prop:"moneyTrade",label:"Tiền giao dịch"},{default:o(e=>[s(b(m.formatCurrency(e.row.moneyTrade)),1)]),_:1}),a(n,{prop:"transactionFees",label:"Phí giao dịch"},{default:o(e=>[s(b(m.formatCurrency(e.row.transactionFees)),1)]),_:1}),a(n,{prop:"oderStatus",label:"Đơn mua/bán"},{default:o(e=>[s(b(t.listOrderStatus.find(p=>p.value===e.row.oderStatus).label),1)]),_:1}),a(n,{prop:"tradeStatus",label:"Trạng thái đơn hàng"},{default:o(e=>[s(b(t.listTradeStatus.find(p=>p.value===e.row.tradeStatus).label),1)]),_:1}),a(n,{prop:"tradingCode",label:"Mã giao dịch"}),a(n,{label:"Thao tác","min-width":"150px"},{default:o(e=>[a(T,{onClick:p=>m.openDialogTrade(!0,e.row)},{default:o(()=>[s(" Sửa ")]),_:2},1032,["onClick"]),a(T,{onClick:p=>m.deleteTrade(e.row)},{default:o(()=>[s(" Xóa ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),a(v,{modelValue:t.dialogTrade,"onUpdate:modelValue":l[17]||(l[17]=e=>t.dialogTrade=e),title:t.isEditForm?"Sửa thông tin":"Thêm mới",width:"500"},{footer:o(()=>[A("div",q,[a(T,{onClick:l[15]||(l[15]=e=>t.dialogTrade=!1)},{default:o(()=>[s("Cancel")]),_:1}),a(T,{type:"primary",onClick:l[16]||(l[16]=e=>t.isEditForm?m.updateTrade():m.addTrade())},{default:o(()=>[s(b(t.isEditForm?"Cập nhật":"Xác nhận"),1)]),_:1})])]),default:o(()=>[a(y,{"label-width":"auto",class:"demo-ruleForm mt-4"},{default:o(()=>[a(d,{label:"idCoin"},{default:o(()=>[a(r,{modelValue:t.dataTrade.idCoin,"onUpdate:modelValue":l[1]||(l[1]=e=>t.dataTrade.idCoin=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"nameCoin"},{default:o(()=>[a(r,{modelValue:t.dataTrade.nameCoin,"onUpdate:modelValue":l[2]||(l[2]=e=>t.dataTrade.nameCoin=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"unitCoin"},{default:o(()=>[a(r,{modelValue:t.dataTrade.unitCoin,"onUpdate:modelValue":l[3]||(l[3]=e=>t.dataTrade.unitCoin=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"quantity"},{default:o(()=>[a(r,{modelValue:t.dataTrade.quantity,"onUpdate:modelValue":l[4]||(l[4]=e=>t.dataTrade.quantity=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"walletAddress"},{default:o(()=>[a(r,{modelValue:t.dataTrade.walletAddress,"onUpdate:modelValue":l[5]||(l[5]=e=>t.dataTrade.walletAddress=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"userName"},{default:o(()=>[a(r,{modelValue:t.dataTrade.userName,"onUpdate:modelValue":l[6]||(l[6]=e=>t.dataTrade.userName=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"accountNumber"},{default:o(()=>[a(r,{modelValue:t.dataTrade.accountNumber,"onUpdate:modelValue":l[7]||(l[7]=e=>t.dataTrade.accountNumber=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"bankName"},{default:o(()=>[a(r,{modelValue:t.dataTrade.bankName,"onUpdate:modelValue":l[8]||(l[8]=e=>t.dataTrade.bankName=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"bankAccount"},{default:o(()=>[a(r,{modelValue:t.dataTrade.bankAccount,"onUpdate:modelValue":l[9]||(l[9]=e=>t.dataTrade.bankAccount=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"moneyTrade"},{default:o(()=>[a(r,{modelValue:t.dataTrade.moneyTrade,"onUpdate:modelValue":l[10]||(l[10]=e=>t.dataTrade.moneyTrade=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"transactionFees"},{default:o(()=>[a(r,{modelValue:t.dataTrade.transactionFees,"onUpdate:modelValue":l[11]||(l[11]=e=>t.dataTrade.transactionFees=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(d,{label:"Trạng thái đơn hàng"},{default:o(()=>[a(V,{modelValue:t.dataTrade.oderStatus,"onUpdate:modelValue":l[12]||(l[12]=e=>t.dataTrade.oderStatus=e),placeholder:"Chọn trạng thái đơn hàng",style:{width:"100%"}},{default:o(()=>[(f(!0),g(C,null,_(t.listOrderStatus,e=>(f(),h(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"Trạng thái giao dịch"},{default:o(()=>[a(V,{modelValue:t.dataTrade.tradeStatus,"onUpdate:modelValue":l[13]||(l[13]=e=>t.dataTrade.tradeStatus=e),placeholder:"Chọn trạng thái giao dịch",style:{width:"100%"}},{default:o(()=>[(f(!0),g(C,null,_(t.listTradeStatus,e=>(f(),h(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"tradingCode"},{default:o(()=>[a(r,{modelValue:t.dataTrade.tradingCode,"onUpdate:modelValue":l[14]||(l[14]=e=>t.dataTrade.tradingCode=e),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","title"])])}const P=F(L,[["render",B]]);export{P as default};
