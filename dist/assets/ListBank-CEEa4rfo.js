import{a as h,b as _,l as V,c as C}from"./bank-BfU8Rxvi.js";import{_ as N,c as T,e,w as t,h as u,o as v,i as k,d as B,t as p}from"./index-QQhhOUTB.js";import"./index-CdjHlNDK.js";const w={data(){return{dialogBank:!1,dataBank:{name:"",icon:"",bin:null,accountNumber:"",userName:"",status:null,bankBalance:null},dataListBank:[],isEditForm:!1}},created(){this.getListBank()},methods:{openDialogBank(o,a){this.isEditForm=o,this.dialogBank=!0,a.length!==0?this.dataBank={...a}:this.dataBank={name:"",icon:"",bin:null,accountNumber:"",userName:"",status:null,bankBalance:null}},updateBank(){this.dialogBank=!1,h(this.dataBank._id,this.dataBank).then(()=>{this.$message.success("Cập nhật thành công"),this.getListBank()})},addBank(){this.dialogBank=!1,_(this.dataBank).then(()=>{this.$message.success("Thêm thành công"),this.getListBank()})},getListBank(){V().then(o=>{this.dataListBank=o})},deleteBank(o){C(o._id).then(()=>{this.$message.success("Xóa thành công"),this.getListBank()})},formatCurrency(o){return`${o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")} VND`}}},L={class:"over pt-8"},U={class:"dialog-footer"};function S(o,a,x,y,l,m){const r=u("el-button"),s=u("el-table-column"),f=u("el-table"),d=u("el-input"),i=u("el-form-item"),b=u("el-form"),c=u("el-dialog");return v(),T("div",L,[e(r,{onClick:a[0]||(a[0]=n=>m.openDialogBank(!1,""))},{default:t(()=>[k("Thêm Bank")]),_:1}),e(f,{data:l.dataListBank,style:{width:"100%"},class:"mt-4",border:!0},{default:t(()=>[e(s,{prop:"name",label:"Tên ngân hàng"}),e(s,{prop:"icon",label:"Icon"}),e(s,{prop:"bin",label:"Mã Bin"}),e(s,{prop:"userName",label:"Tên tài khoản"}),e(s,{prop:"accountNumber",label:"Số tài khoản"}),e(s,{label:"Số dư ngân hàng"},{default:t(n=>[B("p",null,p(m.formatCurrency(n.row.bankBalance)),1)]),_:1}),e(s,{prop:"status",label:"Trạng thái"}),e(s,{label:"Thao tác","min-width":"150px"},{default:t(n=>[e(r,{onClick:g=>m.openDialogBank(!0,n.row)},{default:t(()=>[k(" Sửa ")]),_:2},1032,["onClick"]),e(r,{onClick:g=>m.deleteBank(n.row)},{default:t(()=>[k(" Xóa ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(c,{modelValue:l.dialogBank,"onUpdate:modelValue":a[10]||(a[10]=n=>l.dialogBank=n),title:l.isEditForm?"Sửa thông tin":"Thêm mới",width:"500"},{footer:t(()=>[B("div",U,[e(r,{onClick:a[8]||(a[8]=n=>l.dialogBank=!1)},{default:t(()=>[k("Cancel")]),_:1}),e(r,{type:"primary",onClick:a[9]||(a[9]=n=>l.isEditForm?m.updateBank():m.addBank())},{default:t(()=>[k(p(l.isEditForm?"Cập nhật":"Xác nhận"),1)]),_:1})])]),default:t(()=>[e(b,{"label-width":"auto",class:"demo-ruleForm mt-4"},{default:t(()=>[e(i,{label:"Tên Bank"},{default:t(()=>[e(d,{modelValue:l.dataBank.name,"onUpdate:modelValue":a[1]||(a[1]=n=>l.dataBank.name=n),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(i,{label:"Icon"},{default:t(()=>[e(d,{modelValue:l.dataBank.icon,"onUpdate:modelValue":a[2]||(a[2]=n=>l.dataBank.icon=n)},null,8,["modelValue"])]),_:1}),e(i,{label:"Mã Bin"},{default:t(()=>[e(d,{modelValue:l.dataBank.bin,"onUpdate:modelValue":a[3]||(a[3]=n=>l.dataBank.bin=n)},null,8,["modelValue"])]),_:1}),e(i,{label:"Số tài khoản"},{default:t(()=>[e(d,{modelValue:l.dataBank.accountNumber,"onUpdate:modelValue":a[4]||(a[4]=n=>l.dataBank.accountNumber=n)},null,8,["modelValue"])]),_:1}),e(i,{label:"Tên tài khoản"},{default:t(()=>[e(d,{modelValue:l.dataBank.userName,"onUpdate:modelValue":a[5]||(a[5]=n=>l.dataBank.userName=n)},null,8,["modelValue"])]),_:1}),e(i,{label:"Số dư ngân hàng"},{default:t(()=>[e(d,{modelValue:l.dataBank.bankBalance,"onUpdate:modelValue":a[6]||(a[6]=n=>l.dataBank.bankBalance=n)},null,8,["modelValue"])]),_:1}),e(i,{label:"Tình trạng ngân hàng"},{default:t(()=>[e(d,{modelValue:l.dataBank.status,"onUpdate:modelValue":a[7]||(a[7]=n=>l.dataBank.status=n)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","title"])])}const X=N(w,[["render",S]]);export{X as default};
